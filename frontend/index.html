<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> HashBreaker - Crypto Analysis Tool</title>
    <link rel="stylesheet" href="style.css">     
</head>
<body>
    <header>
        <h1> HashBreaker - Crypto Analysis Tool</h1>
    </header>

    <div class="flex">
        <div class="w50 flex-c">
            <h2>BruteForce</h2>
            <form id="form_1">
                <p>
                    <label for="form_1_hash">Hash:</label>
                    <input id="form_1_hash" type="text" placeholder="Enter hash" required/>
                </p>
                <p>
                    <label for="form_1_charset">Charset:</label>
                    <input id="form_1_charset" type="text" placeholder="Enter charset" required/>
                </p>
                <p>
                    <label for="form_1_maxlen">Max Length:</label>
                    <input id="form_1_maxlen" type="text" placeholder="Enter max length" required/>
                </p>
                <input id="form_1_button" type="submit" value="Search"/>
            </form>
            <div id="result"></div>
            <div id="try"></div>
        </div>
        <div class="w50 flex-c">
            <h2>Dictionary</h2>
            <h2>(SOON)</h2>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        (() => {
            const sock = io();

            // Backend responses
            sock.on("bruteForceResult", (result) => {
                document.querySelector("#result").textContent = `Result: ${JSON.stringify(result)}`;
            });

            sock.on("bruteForceTry", (result) => {
                document.querySelector("#try").textContent = `Try: ${JSON.stringify(result)}`;
            });

            // Emit events
            document.querySelector("#form_1").addEventListener('submit', (e) => {
                e.preventDefault();
                const hash = document.querySelector("#form_1_hash").value;
                const charset = document.querySelector("#form_1_charset").value;
                const maxLen = document.querySelector("#form_1_maxlen").value;
                sock.emit("bruteForce", hash, charset, maxLen);
            });

        })();
    </script>
</body>
</html>
